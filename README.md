七圣召唤
===

**平台：** Windows11

**C语言环境：** gcc version 8.1.0 (x86_64-posix-seh-rev0, Built by MinGW-W64 project)

CLion里显示的是  MinGW 版本：6.0 w64

**编译选项：**
使用CLion打开，将配置中工作目录改为 **D:\QiShengZhaoHuan**，CMakeLists文件已附在文件夹里，注意SDL库的路径。
配置好后理论上即可用CLion编译运行。

**使用的第三方库：** SDL.h、SDL_image.h、SDL_ttf.h、SDL_mixer.h

*头文件都在include文件夹里，头文件对应的源文件都在src文件夹里，游戏图像、音频、文字资源在res文件夹里*

### 游戏内容：

- 基本复刻了原神里的七圣召唤，包含选择关卡、选择出战角色、元素骰子、元素反应、元素战技与元素爆发、召唤物、角色的特殊技能、行动牌等。
同时附有卡牌图鉴和玩法说明
- 有复刻角色，也有自己创造的新角色（还有来自其他游戏的角色bushi）。一共实现了11张角色牌，11名敌人，12张行动牌，以及七个关卡+一个随机敌人关卡（随机敌人即三个敌人都是随机抽取的，甚至有可能同时抽出三个boss）
- 在我方实施技能/切换角色/结束回合，将行动权交给对方时，可能会有一定的卡顿。此外，如果出现了疑似卡死的情况，一般都不是真的卡死了，请多点击几下屏幕（没有查出这些卡顿和疑似卡死究竟是什么原因产生的QAQ）

### 游戏玩法相关：

- 游戏玩法与原神内七圣召唤基本相同，基本都是鼠标操作，只有选择角色和元素骰子转化涉及到了键盘操作，且键位在游戏内已经具体标出。
- 使用技能和卡牌时，再次点击技能图标/卡牌即可使用。切换角色时会显示一个图标，点击图标即可切换
- 详细的元素反应请查询游戏内“玩法说明”一栏
- 与原神内七圣召唤不同的地方请查询游戏内“玩法说明”一栏
- 角色牌、敌人牌、行动牌具体信息请查询游戏内“卡牌图鉴”一栏。在游戏回合进行时也可点击卡牌查看具体信息。

**关于敌人逻辑（如果想保证游玩的体验性还是不要看的好）：**
~~每回合敌人的第一次攻击，如果充能已满会使用元素爆发，充能未满则使用元素战技。第二次攻击会使用普通攻击。如果此时充能未满，则切换角色，结束回合。如果充能已满，则直接结束回合。~~

### 代码设计思路：

以下是我这二十几天编写本项目的过程：

基础框架搭建 -> 设计角色，定义Character结构 -> 基础的进行攻击，实现最基础的增伤型元素反应 -> 开始实现角色个人的特殊技能，使用函数指针 -> 
设计召唤物，定义Summon结构 -> 实现深度元素反应如激化、燃烧等 -> 实现行动牌，定义Card结构，使用函数指针 -> 设计对手逻辑 -> 最终的对局显示优化+一些静态动画显示

我觉得优点是将很多角色共性的地方抽象了出来统一成整体（设计成一个结构并编写了统一使用的函数），每个角色不同的地方使用了函数指针，
减少了代码的复杂度且提高了一定的可读性。但是代码本身还是有点复杂的，每个头文件下对应的函数也没有很高的统一性。个人觉得还有很大优化的空间。

> 本C语言游戏项目编写者：乔昕雨（ErinwithBMQ）